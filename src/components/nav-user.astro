---
import { Image } from "astro:assets";

import avatar from "@assets/images/avatar.png";
import Icon from "@components/icon.astro";
import CartGlobe from "./cart-globe";
---

<nav class="flex-wrapper nav-user">
  <button class="cart-button">
    <Icon icon="cart" />
    <CartGlobe className="notification" client:load />
    <span class="visually-hidden">Menu</span>
  </button>
  <a href="#" class="avatar">
    <Image src={avatar} alt="John Doe" width={50} height={50} />
  </a>
</nav>

<style>
  .nav-user {
    --flow-gap: 1.5rem;
  }

  .cart-button {
    position: relative;
  }

  .notification {
    position: absolute;
    top: -50%;
    transform: translateY(50%);
  }

  .avatar {
    border-radius: 9999rem;
    border: 2px solid transparent;

    @media (width < 48rem) {
      & > img {
        width: 1.5rem;
        height: 1.5rem;
      }
    }

    &:hover,
    &:focus-within {
      border-color: var(--clr-primary);
    }
  }
</style>
